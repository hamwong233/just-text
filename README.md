# Just Text

一个极简优雅的 WordPress 单栏文本主题，专注于内容阅读体验。

## ✨ 特点

- 🎨 **极简设计** - 纯文本风格，专注内容阅读
- 🌓 **主题切换** - 支持日间/夜间模式，可自动跟随时间切换
- 📱 **完全响应式** - 完美适配桌面端和移动端
- 🔤 **单栏布局** - 最佳阅读体验，无干扰
- ⚡ **零构建** - 使用 Tailwind CSS CDN，开箱即用
- 📝 **优化排版** - 精心设计的文章样式
- 🖼️ **图片预览** - 点击图片可放大查看，支持缩放和拖动
- 📋 **代码高亮** - 自动语法高亮，支持 190+ 种语言，一键复制
- 💬 **评论系统** - 优雅的评论区设计，支持 2 级嵌套回复
- 🏷️ **分类标签** - 完整的分类和标签支持
- 📄 **页面模板** - 内置分类概览、标签概览、月份归档模板
- 🖼️ **图片懒加载** - 自动懒加载，提升页面性能
- 🚀 **Gravatar 加速** - 使用国内 CDN 加速头像加载

## 🚀 功能亮点

### 文章卡片
- 响应式封面图片（移动端 140px，桌面端 256px）
- 智能摘要截取（最多 200 字）
- 阅读时间预估
- 分类和评论数显示

### 文章详情
- 字数统计和阅读时间
- 文章分页支持
- 上一篇/下一篇导航
- 标签展示
- 图片点击预览（支持缩放、拖动）
- 图片懒加载和悬停效果
- 代码块自动语法高亮（Highlight.js）
- 代码块一键复制，按钮固定在右上角

### 评论功能
- 2 级嵌套回复支持（超过 2 级自动归为 2 级）
- 显示回复对象（"回复 用户名"）
- 优雅的表单设计
- 头像显示（Gravatar 国内加速）
- 子评论左侧边框视觉层级
- 响应式布局适配

### 页面模板
- **分类概览** - 展示所有分类及文章数量
- **标签概览** - 展示所有标签及文章数量
- **月份归档** - 按年份和月份归档所有文章

### 主题设置
- ICP 备案号配置
- 自定义头部 JS 代码
- **主题模式切换**
  - 日间模式（纸色主题）
  - 夜间模式（暗色主题）
  - 自动切换（6:00-18:00 日间，其他时间夜间）

## 📦 安装

### 方法一：手动安装

1. 下载主题文件
2. 将 `just-text` 文件夹上传到 `wp-content/themes/` 目录
3. 在 WordPress 后台 **外观 → 主题** 中激活主题

### 方法二：后台上传

1. 在 WordPress 后台进入 **外观 → 主题 → 添加**
2. 点击 **上传主题**
3. 选择主题 zip 文件并安装
4. 激活主题

## 🎨 主题配置

### 导航菜单

1. 进入 **外观 → 菜单**
2. 创建新菜单并添加菜单项
3. 将菜单分配到 **Primary Menu** 位置

### 主题设置

进入 **外观 → 自定义 → 主题设置**：

- **ICP 备案号** - 输入网站备案号，显示在页脚
- **自定义头部 JS** - 添加统计代码或第三方脚本
- **主题模式** - 选择日间/夜间/自动切换
  - **日间模式** - 浅色背景，适合白天阅读
  - **夜间模式** - 深色背景，适合夜间阅读
  - **自动切换** - 根据时间自动切换（6:00-18:00 日间）

### 创建概览页面

**分类概览页面：**
1. 创建新页面
2. 选择模板 **分类概览**
3. 发布页面

**标签概览页面：**
1. 创建新页面
2. 选择模板 **标签概览**
3. 发布页面

**月份归档页面：**
1. 创建新页面
2. 选择模板 **月份归档**
3. 发布页面

## 📁 文件结构

```
just-text/
├── category.php           # 分类归档模板
├── comments.php           # 评论模板
├── footer.php            # 页脚模板
├── functions.php         # 主题功能
├── header.php            # 页头模板
├── index.php             # 首页模板
├── page.php              # 页面模板
├── page-archives.php     # 月份归档模板
├── page-categories.php   # 分类概览模板
├── page-tags.php         # 标签概览模板
├── single.php            # 文章详情模板
├── style.css             # 主题样式表
├── tag.php               # 标签归档模板
└── README.md             # 说明文档
```

## 🎯 技术栈

- **PHP** - WordPress 模板系统
- **Tailwind CSS** - 通过 jsDelivr CDN 引入，无需构建
- **Highlight.js** - 代码语法高亮
- **JavaScript** - 原生 JS，无依赖

## 🎨 自定义

### 修改颜色主题

主题使用统一的颜色变量系统，只需修改 `header.php` 中的两处配置即可全局换肤：

**1. Tailwind 配置（第 13-17 行）：**

```javascript
colors: {
    'surface': '#FAF8F1',  // 背景色
    'primary': '#161616',  // 主色调
    'secondary': '#888',   // 次要色
    'muted': '#aaa',       // 弱化色
    'divider': '#eee',     // 分割线
}
```

**2. CSS 变量（第 28-32 行）：**

```css
:root {
    --surface: #FAF8F1;
    --primary: #161616;
    --secondary: #888;
    --muted: #aaa;
    --divider: #eee;
}
```

**对应的 Tailwind class：**
- `bg-surface` / `text-surface` - 背景色
- `bg-primary` / `text-primary` - 主色调
- `text-secondary` - 次要色
- `text-muted` - 弱化色
- `border-divider` - 分割线

### 修改页面宽度

在模板文件中查找 `max-w-6xl` 类，可替换为：
- `max-w-5xl` - 更窄（1024px）
- `max-w-7xl` - 更宽（1280px）

### 修改摘要长度

编辑 `functions.php` 中的 `just_text_post_card()` 函数，修改：

```php
echo mb_substr($content, 0, 200, 'UTF-8') . '...';
// 将 200 改为你想要的字数
```

## 🌐 浏览器支持

- Chrome（最新版）
- Firefox（最新版）
- Safari（最新版）
- Edge（最新版）

## 📝 更新日志

### 1.1.0 (2025-01-04)

**新增功能**
- ✨ 主题模式切换（日间/夜间/自动）
- ✨ 评论区 2 级嵌套回复支持
- ✨ 评论显示回复对象
- ✨ Gravatar 头像国内 CDN 加速
- ✨ 统一颜色变量系统，易于自定义

**优化改进**
- 🎨 评论区视觉层级优化（左侧边框）
- 🎨 子评论头像尺寸自适应
- 🎨 复制按钮样式优化（hover 透明度）
- 🎨 选中文本样式适配主题模式
- 📱 评论区响应式布局改进

### 1.0.0 (2025-01-04)

**初始版本发布**

- ✅ 极简单栏设计
- ✅ 完全响应式布局
- ✅ 文章卡片优化
- ✅ 图片预览功能（缩放、拖动）
- ✅ 图片懒加载和悬停效果
- ✅ 代码语法高亮（Highlight.js，支持 190+ 种语言）
- ✅ 代码块一键复制（按钮固定右上角）
- ✅ 代码块最大高度限制和滚动
- ✅ 评论系统
- ✅ 分类和标签支持
- ✅ 分页导航
- ✅ 回到顶部
- ✅ 分类/标签/月份归档页面模板
- ✅ 自定义头部 JS
- ✅ 使用 jsDelivr CDN

## 📄 许可证

GPL-2.0-or-later

## 🙏 致谢

感谢 [Tailwind CSS](https://tailwindcss.com/) 提供优秀的 CSS 框架。

---

如有问题或建议，欢迎提交 Issue。
